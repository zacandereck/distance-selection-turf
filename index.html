
<!DOCTYPE html>
<html>
<head>
	<title>distance chaining</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="bower_components/leaflet/dist/leaflet.css" />
	<link rel="stylesheet" href="bower_components/bootswatch/paper/bootstrap.min.css" />
	<link rel="stylesheet" href="css/style.css" />
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-md-3 col-lg-4">
				<div id="content">
					<ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
						<li class="active"><a href="#main" data-toggle="tab">Main</a></li>
						<li><a href="#output" data-toggle="tab">Output</a></li>
						<li ><a data-toggle="tab" href="#about">About</a></li>
					</ul>
					<div id="my-tab-content" class="tab-content">
					    <div class="tab-pane active" id="main">
							<h5>Distance Selection Example</h5>
							</br>
							<form class="form-horizontal">
			  					<fieldset>
									<div class="form-group">
								      	<label for="innerBuffer" class="col-lg-2 small">Inner</br>Distance</label>
								      	<div class="col-lg-10">
								      	 	<input type="text" class="form-control" id="innerBuffer" placeholder="250">
								      	</div>
								    </div>
								    <div class="form-group">
						    		    <label for="outerBuffer" class="col-lg-2 small">Outer</br>Distance</label>
								      	<div class="col-lg-10">
								        	<input type="text" class="form-control" id="outerBuffer" placeholder="500">
								      	</div>	
								    </div>
								</fieldset>
							</form>
							<button class="btn btn-default pull-left" id="toggleShowBuffers">Show All Buffers</button>
							<button class="btn btn-warning pull-right" id="resetButton" >Reset</button>
							</br>
							<hr>
							<h5>How To</h5>
							<p>Enter an inner and outter buffer distance and start clicking points!</p>
							<hr>
							<h5>Geoprocessing Steps</h5>
							<p>
								1. We use D3.js to read a CSV file and display the data as GeoJSON on the map.</p>
							<p>
								2. The user can click a point, and that point is then turned in to a turf.point object.</p>
							<p>
								3. We then create two buffers of the point, one for the inner number and outer buffer you specified.</p>
							<p>
								4. We use turf.erase to remove the inner polygon from the outer polygon, creating a donut!</p>
							<p>
								5. Now we use turf.within to extract just the GeoJSON points from the donut.</p>
							<p>
								6. Finally, we use turf.nearest to compare the original point and the points that intersected the donut, returning the nearest point within the inner and outer ranges.</p>
						</div>
						<div class="tab-pane" id="output">
							<table class="table table-striped table-hover outputTable">
								<thead>
									<tr>
										<th></th>
										<th>ID</th>
										<th>Lat</th>
										<th>Lng</th>
									</tr>
								</thead>
							</table>
						</div>
						<div class="tab-pane" id="about">
							<h5>Built with:</h5>
							<p>
								<a target="_blank" href="http://turfjs.org/">turfjs</a>, <a target="_blank" href="http://leafletjs.com/">leafletjs</a>, <a target="_blank" href="http://getbootstrap.com/">bootstrap</a>, <a target="_blank" href="http://jquery.com/">jquery</a>, <a target="_blank" href="http://d3js.org/">d3js</a>. Paper theme from <a target="_blank" href="http://bootswatch.com/paper/">Bootswatch</a>. Basemaps from <a target="_blank" href="http://mapbox.com">MapBox</a>.
							</p>
							<hr>
							<h5>Assembled by:</h5>
							<p>Chris Hogan <a href="http://twitter.com/hoganmaps" target="_blank">@hoganmaps</a></br>
							   Steve Heinrich <a href="http://twitter.com/stevenheinrich" target="_blank">@stevenheinrich</a></br>
							   Zac Andereck <a target="_blank" href="http://twitter.com/ZacAndereck">@ZacAndereck</a>
							</p>
						</div>

					</div>
				</div>
			</div>
			<div class="col-md-9 col-lg-8">
				<div id="map"></div>
			</div>
		</div>
	</div>


	<script src="bower_components/jquery/dist/jquery.min.js"></script>
	<script src="bower_components/d3/d3.min.js"></script>
	<script src="bower_components/leaflet/dist/leaflet.js"></script>
	<script src="bower_components/turf/turf.min.js"></script>
	<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	
	<script src="js/stuff.js"></script>
</body>
</html>
